const t=JSON.parse('{"key":"v-34dd7c68","path":"/distributed/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%A9%E5%AE%B9%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B.html","title":"记一次数据库扩容处理方案","lang":"zh-CN","frontmatter":{"title":"记一次数据库扩容处理方案","category":["分布式"],"tag":["随笔"],"date":"2024-02-21T11:25:00.000Z","description":"背景 业务中有一张表user_like，该表记录的是短视频中用户互相关注的数据，比如A关注B，则插一条记录，B关注A，则插一条记录。所以在1500w日活的大背景下，该表所在的库已经扛不住了（也有历史原因），目前是128张表。 目标 将该表所在库扩展为两个库，每个库还是128张表，但是每个表的数据会减半。 迁移方案 1. 新建两个新数据库集群，每个新库都...","head":[["meta",{"property":"og:url","content":"https://floweryu.top/distributed/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%A9%E5%AE%B9%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B.html"}],["meta",{"property":"og:site_name","content":"Floweryu"}],["meta",{"property":"og:title","content":"记一次数据库扩容处理方案"}],["meta",{"property":"og:description","content":"背景 业务中有一张表user_like，该表记录的是短视频中用户互相关注的数据，比如A关注B，则插一条记录，B关注A，则插一条记录。所以在1500w日活的大背景下，该表所在的库已经扛不住了（也有历史原因），目前是128张表。 目标 将该表所在库扩展为两个库，每个库还是128张表，但是每个表的数据会减半。 迁移方案 1. 新建两个新数据库集群，每个新库都..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://floweryu.top/"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-21T03:24:59.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"记一次数据库扩容处理方案"}],["meta",{"property":"article:author","content":"Floweryu"}],["meta",{"property":"article:tag","content":"随笔"}],["meta",{"property":"article:published_time","content":"2024-02-21T11:25:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-21T03:24:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"记一次数据库扩容处理方案\\",\\"image\\":[\\"https://floweryu.top/\\"],\\"datePublished\\":\\"2024-02-21T11:25:00.000Z\\",\\"dateModified\\":\\"2024-02-21T03:24:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Floweryu\\",\\"url\\":\\"https://github.com/Floweryu/floweryu.github.io\\",\\"email\\":\\"869830837@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"目标","slug":"目标","link":"#目标","children":[]},{"level":2,"title":"迁移方案","slug":"迁移方案","link":"#迁移方案","children":[]},{"level":2,"title":"分库分表方案","slug":"分库分表方案","link":"#分库分表方案","children":[]}],"git":{"createdTime":1708485899000,"updatedTime":1708485899000,"contributors":[{"name":"Floweryu","email":"floweryu@qq.com","commits":1}]},"readingTime":{"minutes":2.42,"words":727},"filePathRelative":"distributed/记一次数据库扩容处理过程.md","localizedDate":"2024年2月21日","autoDesc":true}');export{t as data};
